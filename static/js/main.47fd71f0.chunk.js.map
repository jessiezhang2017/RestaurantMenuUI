{"version":3,"sources":["firebase.js","components/DishCard.js","components/RestaurantCard.js","components/SearchForm.js","components/RatingEditForm.js","components/ReviewCard.js","components/ReviewList.js","components/DishAddForm.js","components/ReviewAddForm.js","components/RestaurantDetail.js","components/Home.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","provider","auth","GoogleAuthProvider","DishCard","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeReview","setState","viewReview","state","reviewList","bind","assertThisInitialized","_this2","_id","axios","get","then","response","console","log","data","catch","error","message","errorMessage","_this$props","name","overallRating","_this$state","avg","parseFloat","toFixed","size","length","reviews","map","review","react_default","a","createElement","userName","rating","comment","className","react_rating_default","placeholderRating","fraction","placeholderSymbol","emptySymbol","fullSymbol","onClick","Component","RestaurantCard","dishList","id","photo","location","overall","filter","e","sort","b","slice","restaurantOverall","dish","src_components_DishCard","assign","key","dish1","dishes","src","alt","Link","to","concat","SearchForm","handleChange","defineProperty","target","value","handleSubmit","event","preventDefault","encoded","encodeURIComponent","cuisine","count","restaurantSearchResult","getNext","getPrevious","parseInt","user","resultList","restaurant","src_components_RestaurantCard","thumb","address","user_rating","aggregate_rating","menuUrl","menu_url","onSubmit","type","onChange","RatingEditForm","resetState","onFormChange","field","updatedState","dishId","userId","apiPayload","put","editRatingCallback","htmlFor","rows","ReviewCard","editRating","ratingEdit","dishName","restaurantName","deleteReviewCallback","src_components_RatingEditForm","URL2","ReviewList","deleteReview","reviewId","deleteIndex","toConsumableArray","masterList","forEach","index","splice","delete","window","reload","uid","prevProps","_this3","_this4","src_components_ReviewCard","DishAddForm","restaurantId","post","addDishCallback","placeholder","ReviewAddForm","_this$props$user","displayName","photoURL","userImg","addReviewCallback","RestaurantDetail","getDishList","match","params","addDish","dishAddition","addReview","reviewAddition","addOverall","overallAddition","_response$data","dishTotal","overallReview","check","includes","rel","href","class","src_components_DishAddForm","src_components_ReviewAddForm","Home","App","login","logout","signOut","signInWithPopup","result","onAuthStateChanged","username","_this5","BrowserRouter","Route","path","exact","component","render","src_components_SearchForm","src_components_ReviewList","src_components_RestaurantDetail","Boolean","hostname","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"gfAUAA,IAASC,cARM,CACbC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,iBAId,IAAMC,EAAW,IAAIR,IAASS,KAAKC,mBAC7BD,EAAOT,IAASS,UACdT,EAAf,6EC4HeW,qBAhIb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAkDRQ,aAAe,WACbP,EAAKQ,SAAS,CAACC,YAAYT,EAAKU,MAAMD,cAjDtCT,EAAKU,MAAQ,CAEXC,WAAW,GACXF,YAAY,GAGdT,EAAKO,aAAeP,EAAKO,aAAaK,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KATHA,mFAYC,IAAAc,EAAAX,KAEXY,EAAOZ,KAAKJ,MAAZgB,IAoBPC,IAAMC,IAjBO,wCAiBEF,GACdG,KAAK,SAACC,GACLC,QAAQC,IAAIF,EAASG,MACrBR,EAAKN,SAAS,CACZG,WAAYQ,EAASG,SAIxBC,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBX,EAAKN,SAAS,CACZkB,aAAcF,EAAMC,6CAYjB,IAAAE,EAEwBxB,KAAKJ,MAA5B6B,EAFDD,EAECC,KAAMC,EAFPF,EAEOE,cAFPC,EAI0B3B,KAAKO,MAA/BC,EAJAmB,EAIAnB,WAAYF,EAJZqB,EAIYrB,WAEfsB,EAAMC,WAAWH,GAAeI,QAAQ,GAExCC,EAAO,KAERvB,IACDuB,EAAOvB,EAAWwB,QAGpB,IAAMC,EAAUzB,EAAW0B,IAAI,SAACC,GAC9B,OACEC,EAAAC,EAAAC,cAAA,UACCF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,cAASH,EAAOI,SAAhB,OACHH,EAAAC,EAAAC,cAAA,qBAAaH,EAAOK,QACpBJ,EAAAC,EAAAC,cAAA,sBAAcH,EAAOM,YAM3B,OACEL,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aAEXN,EAAAC,EAAAC,cAAA,WAASI,UAAU,sBAChBX,EACDK,EAAAC,EAAAC,cAAA,WAAMb,EAAN,KACAW,EAAAC,EAAAC,cAACK,EAAAN,EAAD,CACEO,kBAAmBhB,EACnBiB,SAAU,EACVC,kBAAkB,mBAClBC,YAAY,qBACZC,WAAW,qBAGT1C,EACA8B,EAAAC,EAAAC,cAAA,UAAQI,UAAY,wBAAwBO,QAAUjD,KAAKI,cAA3D,YAEAgC,EAAAC,EAAAC,cAAA,UAAQI,UAAY,wBAAwBO,QAAUjD,KAAKI,cAA3D,WAIJgC,EAAAC,EAAAC,cAAA,YAEChC,EACA8B,EAAAC,EAAAC,cAAA,WACGL,GAGHG,EAAAC,EAAAC,cAAA,qBAhHUY,cC2GRC,2BArGb,SAAAA,EAAYvD,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmD,IACjBtD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqD,GAAAhD,KAAAH,KAAMJ,KAEDW,MAAQ,CACX6C,SAAU,IAJKvD,mFASC,IAAAc,EAAAX,KAEXqD,EAAMrD,KAAKJ,MAAXyD,GAIPxC,IAAMC,IAFM,+CAEEuC,GACbtC,KAAK,SAACC,GAELL,EAAKN,SAAS,CACZ+C,SAAUpC,EAASG,SAItBC,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBX,EAAKN,SAAS,CACZkB,aAAcF,EAAMC,6CAOjB,IAAAE,EAE+BxB,KAAKJ,MAAnCyD,EAFD7B,EAEC6B,GAAI5B,EAFLD,EAEKC,KAAM6B,EAFX9B,EAEW8B,MAAOC,EAFlB/B,EAEkB+B,SACnBH,EAAWpD,KAAKO,MAAM6C,SAEtBI,EADgBJ,EAASK,OAAO,SAAAC,GAAC,MAAe,YAAXA,EAAEjC,OACfkC,KAAK,SAACtB,EAAGuB,GAAJ,OAAUA,EAAElC,cAAgBW,EAAEX,gBAAemC,MAAM,EAAE,GAElFC,GADON,EAAQxB,OACKwB,EAAQtB,IAAI,SAAC6B,GAErC,OAAO3B,EAAAC,EAAAC,cAAC0B,EAADlE,OAAAmE,OAAA,CAAUC,IAAKH,EAAKV,IAIdU,OAOTI,EADaf,EAASK,OAAO,SAAAC,GAAC,MAAe,YAAXA,EAAEjC,OACjBkC,KAAK,SAACtB,EAAGuB,GAAJ,OAAUA,EAAElC,cAAgBW,EAAEX,gBAAemC,MAAM,EAAE,GAE7EO,GADOD,EAAMnC,OACJmC,EAAMjC,IAAI,SAAC6B,GAExB,OAAO3B,EAAAC,EAAAC,cAAC0B,EAADlE,OAAAmE,OAAA,CAAUC,IAAKH,EAAKV,IAIdU,OAKf,OAEM3B,EAAAC,EAAAC,cAAA,OAAKI,UAAU,mBAERN,EAAAC,EAAAC,cAAA,WAASI,UAAU,wBACjBN,EAAAC,EAAAC,cAAA,OAAK+B,IAAKf,EAAOgB,IAAI,eAGvBlC,EAAAC,EAAAC,cAAA,WAASI,UAAU,4BAElBN,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAE,eAAAC,OAAiBpB,IAAO5B,IACpCW,EAAAC,EAAAC,cAAA,qBAAaiB,GACdO,EAECM,WAlFWlB,cC2MdwB,cA5Mb,SAAAA,EAAY9E,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0E,IACjB7E,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4E,GAAAvE,KAAAH,KAAMJ,KAcR+E,aAAe,SAACjB,GAEd7D,EAAKQ,SAALP,OAAA8E,EAAA,EAAA9E,CAAA,GACG4D,EAAEmB,OAAOpD,KAAOiC,EAAEmB,OAAOC,SAlBXjF,EAsBnBkF,aAAe,SAACC,GACdA,EAAMC,iBAGN,IAEMC,EAAUC,mBAAmBtF,EAAKU,MAAM6E,SAE1CC,EAAQxF,EAAKU,MAAM8E,MAEvBxE,IAAMC,IANM,6CAMEoE,EAAQ,IAAIG,GACxBtE,KAAK,SAACC,GAELnB,EAAKQ,SAAS,CACZiF,uBAAwBtE,EAASG,SAKpCC,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAcF,EAAMC,aA3CRzB,EAiDnB0F,QAAU,SAACP,GACTA,EAAMC,iBACN,IAEMC,EAAUC,mBAAmBtF,EAAKU,MAAM6E,SAE1CC,EAAQxF,EAAKU,MAAM8E,MAAM,GAG7BxE,IAAMC,IAPM,6CAOEoE,EAAQ,IAAIG,GACxBtE,KAAK,SAACC,GAELnB,EAAKQ,SAAS,CACZiF,uBAAwBtE,EAASG,KAEjCkE,MAAMA,MAITjE,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAcF,EAAMC,aAtERzB,EA6EnB0F,QAAU,SAACP,GACTA,EAAMC,iBACN,IAEMC,EAAUC,mBAAmBtF,EAAKU,MAAM6E,SAE1CC,EAAQxF,EAAKU,MAAM8E,MAAM,GAG7BxE,IAAMC,IAPM,6CAOEoE,EAAQ,IAAIG,GACxBtE,KAAK,SAACC,GAELnB,EAAKQ,SAAS,CACZiF,uBAAwBtE,EAASG,KAEjCkE,MAAMA,MAITjE,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAcF,EAAMC,aAlGRzB,EAwGnB2F,YAAc,SAACR,GACb,IAAIK,EAAQI,SAAS5F,EAAKU,MAAM8E,OAAS,GACrCA,EAAM,IACRA,EAAQ,GAEVxF,EAAKQ,SAAS,CAACgF,MAAMA,KA3GrBxF,EAAKU,MAAQ,CACXmF,KAAM9F,EAAM8F,KACZN,QAAQ,GACRE,uBAAwB,GACxBD,MAAO,GAGTxF,EAAK8E,aAAe9E,EAAK8E,aAAalE,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAKkF,aAAelF,EAAKkF,aAAatE,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACpBA,EAAK0F,QAAU1F,EAAK0F,QAAQ9E,KAAbX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACfA,EAAK2F,YAAc3F,EAAK2F,YAAY/E,KAAjBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAZFA,wEAkHV,IAAAc,EAAAX,KAED2F,EAAa3F,KAAKO,MAAM+E,uBAAuBpD,IAAI,SAAC0D,GAG1D,OAAOxD,EAAAC,EAAAC,cAACuD,EAAD,CACL3B,IAAO0B,EAAWvC,GAClBA,GAAMuC,EAAWvC,GACjB5B,KAAQmE,EAAWnE,KACnB6B,MAASsC,EAAWE,MACpBvC,SAAYqC,EAAWrC,SAASwC,QAChCrE,cAAiBkE,EAAWI,YAAYC,iBACxCC,QAAWN,EAAWO,SACtBT,KAAQ/E,EAAKf,MAAM8F,SAOrB,OACEtD,EAAAC,EAAAC,cAAA,OAAKI,UAAU,UACbN,EAAAC,EAAAC,cAAA,WAASI,UAAU,aACjBN,EAAAC,EAAAC,cAAA,QAAMI,UAAU,aAAa0D,SAAUpG,KAAK+E,cAC1C3C,EAAAC,EAAAC,cAAA,OAAKI,UAAU,oBACbN,EAAAC,EAAAC,cAAA,UAAQ+D,KAAK,OAAO3D,UAAU,SAASjB,KAAK,UAAUqD,MAAO9E,KAAKoF,QAASkB,SAAUtG,KAAK2E,cACxFvC,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,IAAd,kBACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,UACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,aACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,cACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,OACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,QACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,UACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,UACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,UACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,UACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,aACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,iBACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,qBACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,iBACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,gBACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,WACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,SACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,QACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,aACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,YACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,QACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,MAAd,cACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,OAAd,eAGJ1C,EAAAC,EAAAC,cAAA,SAAO+D,KAAK,SAASvB,MAAM,SAASpC,UAAU,uBAC9CN,EAAAC,EAAAC,cAAA,UAAQI,UAAU,qBAAqBO,QAASjD,KAAKwF,aAArD,QACApD,EAAAC,EAAAC,cAAA,UAAQI,UAAU,qBAAqBO,QAASjD,KAAKuF,SAArD,WAKNnD,EAAAC,EAAAC,cAAA,WAASI,UAAU,iBAChBiD,WAhMgBzC,qBC4GVqD,2BA7Gb,SAAAA,EAAY3G,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuG,IACjB1G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyG,GAAApG,KAAAH,KAAMJ,KASR4G,WAAa,WACX3G,EAAKQ,SAAS,CACZmC,OAAQ,QAZO3C,EAiBnB4G,aAAe,SAACzB,GACd,IAAM0B,EAAQ1B,EAAMH,OAAOpD,KACrBqD,EAAQE,EAAMH,OAAOC,MAErB6B,EAAe,GACrBA,EAAaD,GAAS5B,EACtBjF,EAAKQ,SAASsG,IAvBG9G,EA0BnBuG,SAAW,SAACpB,GAAU,IAAArD,EAEO9B,EAAKU,MAAxBiC,EAFYb,EAEZa,OAAQC,EAFId,EAEJc,QAFIjB,EAGoB3B,EAAKD,MAAtCgB,EAHaY,EAGbZ,IAAKgG,EAHQpF,EAGRoF,OAAQC,EAHArF,EAGAqF,OAAQtE,EAHRf,EAGQe,SAG5B,GAAIC,IAAW3C,EAAKD,MAAM4C,QAAUA,IAAW3C,EAAKD,MAAM6C,QAA1D,CAEA,IAAMqE,EAAa,CACjBlG,IAAKA,EACLgG,OAAQA,EACRC,OAAQA,EACRtE,SAAUA,EACVC,OAAQA,EACRC,QAASA,GAGX5B,IAAMkG,IAbM,qCAaInG,EAAKkG,GACpB/F,KAAK,SAACC,GAELnB,EAAKD,MAAMoH,qBACXnH,EAAK2G,eAINpF,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAY,WAAAkD,OAAYpD,EAAMC,eAlDlCzB,EAAKU,MAAQ,CACXiC,OAAQ3C,EAAKD,MAAM4C,OACnBC,QAAS5C,EAAKD,MAAM6C,SALL5C,wEAiEjB,OACEuC,EAAAC,EAAAC,cAAA,WAASI,UAAU,yBACjBN,EAAAC,EAAAC,cAAA,QAAM8D,SAAUpG,KAAKoG,SAAU3E,KAAK,mBAAmB4B,GAAG,mBAAmBX,UAAU,cACrFN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,0BAA0BuE,QAAQ,UAAnD,UAEA7E,EAAAC,EAAAC,cAAA,UAAQ+D,KAAK,OAAO3D,UAAU,uBAAuBjB,KAAK,SAAU6E,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAMiC,QAEjHJ,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,IAAd,QACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,OAIJ1C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,QAAQuE,QAAQ,WAAjC,YAEF7E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,YAAUI,UAAU,eAAewE,KAAK,IAAIzF,KAAK,UAAW6E,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAMkC,WAG7GL,EAAAC,EAAAC,cAAA,SAAOI,UAAU,6CAA6C2D,KAAK,SAAS5E,KAAK,SAASqD,MAAM,oBA1F7E5B,cC0EdiE,cAzEb,SAAAA,EAAYvH,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmH,IACjBtH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqH,GAAAhH,KAAAH,KAAMJ,KASRwH,WAAa,WACXvH,EAAKQ,SAAS,CAACgH,YAAYxH,EAAKU,MAAM8G,cARtCxH,EAAKU,MAAQ,CAEX8G,YAAW,GALIxH,wEAcX,IAAAc,EAAAX,KAAAwB,EACoDxB,KAAKJ,MAAvDgB,EADFY,EACEZ,IAAK0G,EADP9F,EACO8F,SAAU9E,EADjBhB,EACiBgB,OAAQC,EADzBjB,EACyBiB,QAAS8E,EADlC/F,EACkC+F,eAExC,OACEnF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,eAEbN,EAAAC,EAAAC,cAAA,WAASI,UAAU,wBAInBN,EAAAC,EAAAC,cAAA,WAASI,UAAU,qBACjBN,EAAAC,EAAAC,cAAA,8BAAsBiF,GACtBnF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,4BAAH,IAAgCgF,GAChClF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,8BAAH,IAAkCE,GAClCJ,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,0BAAH,IAA8BG,GAC9BL,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,UAEEW,QAASjD,KAAKoH,WACd1E,UAAU,kDAHZ,SASFN,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,UACEW,QAAS,WAAOtC,EAAKf,MAAM4H,qBAAqB5G,IAChD8B,UAAU,oDAFZ,WAQC1C,KAAKO,MAAM8G,WACVjF,EAAAC,EAAAC,cAACmF,EAAD3H,OAAAmE,OAAA,CACE+C,mBAAsBhH,KAAKoH,YACvBpH,KAAKJ,QAGXwC,EAAAC,EAAAC,cAAA,mBAxDWY,aCCnBwE,SAAO,sCAoJEC,cAhJb,SAAAA,EAAY/H,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2H,IACjB9H,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6H,GAAAxH,KAAAH,KAAMJ,KAmFRgI,aAAe,SAACC,GACd,IAAIC,GAAe,EACb7F,EAAOnC,OAAAiI,EAAA,EAAAjI,CAAMD,EAAKU,MAAMyH,YAE9B/F,EAAQgG,QAAQ,SAAC9F,EAAQ+F,GACnBL,IAAa1F,EAAOkB,KACtByE,EAAcI,KAIlBjG,EAAQkG,OAAOL,EAAa,GAE5BjI,EAAKQ,SAAS,CACZG,WAAYyB,IAGdpB,IAAMuH,OAAOV,EAAKG,GAEjB9G,KAAK,SAACC,MAGNI,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAcF,EAAMC,YAIxB+G,OAAO9E,SAAS+E,UA7GhBzI,EAAKU,MAAQ,CAEXC,WAAY,GACZwH,WAAW,IAIbnI,EAAK+H,aAAe/H,EAAK+H,aAAanH,KAAlBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KATHA,mFAaA,IAAAc,EAAAX,KAEjB,GAAIA,KAAKJ,MAAM8F,KAAM,CACnB,IAAMR,EAAUC,mBAAmBnF,KAAKJ,MAAM8F,KAAK6C,KAEnD1H,IAAMC,IAvBA,2CAuBQoE,GACbnE,KAAK,SAACC,GAELL,EAAKN,SAAS,CACZG,WAAYQ,EAASG,KACrB6G,WAAYhH,EAASG,SAGxBC,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBX,EAAKN,SAAS,CACZkB,aAAcF,EAAMC,wDAMTkH,GAAW,IAAAC,EAAAzI,KACpB0F,EAAS1F,KAAKJ,MAAd8F,KAER,GADiB8C,EAAU9C,OACVA,EAGf,GADA1F,KAAKK,SAAS,CAAEqF,KAAK1F,KAAKJ,MAAM8F,OAC5BA,EAAM,CACR,IAAMR,EAAUC,mBAAmBO,EAAK6C,KAExC1H,IAAMC,IAjDF,2CAiDUoE,GACbnE,KAAK,SAACC,GAELyH,EAAKpI,SAAS,CACZG,WAAYQ,EAASG,KACrB6G,WAAYhH,EAASG,SAGxBC,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBmH,EAAKpI,SAAS,CACZkB,aAAcF,EAAMC,iBAIxBtB,KAAKK,SAAS,CAAEG,WAAW,sCA0DxB,IAAAkI,EAAA1I,KACDQ,EAAaR,KAAKO,MAAMC,WAAW0B,IAAI,SAACC,GAE5C,OAAOC,EAAAC,EAAAC,cAACqG,EAAD7I,OAAAmE,OAAA,CAAYC,IAAK/B,EAAOkB,GACtBmE,qBAAsBkB,EAAKd,cAGvBzF,MAGf,OACEC,EAAAC,EAAAC,cAAA,OAAKI,UAAU,cACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,gBAAd,WACAN,EAAAC,EAAAC,cAAA,WAASI,UAAU,eAChBlC,WApIc0C,aCmFV0F,2BArFb,SAAAA,EAAYhJ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4I,IACjB/I,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8I,GAAAzI,KAAAH,KAAMJ,KAQR4G,WAAa,WACX3G,EAAKQ,SAAS,CACZiH,SAAU,QAXKzH,EAgBnB4G,aAAe,SAACzB,GACd,IAAM0B,EAAQ1B,EAAMH,OAAOpD,KACrBqD,EAAQE,EAAMH,OAAOC,MAErB6B,EAAe,GACrBA,EAAaD,GAAS5B,EACtBjF,EAAKQ,SAASsG,IAtBG9G,EA0BnBuG,SAAW,SAACpB,GACVA,EAAMC,iBADc,IAIbqC,EAAYzH,EAAKU,MAAjB+G,SAJa9F,EAKmB3B,EAAKD,MAArCiJ,EALarH,EAKbqH,aAActB,EALD/F,EAKC+F,eAGrB,GAAiB,OAAbD,GAAkC,KAAbA,EAAzB,CAEA,IAAMR,EAAa,CAEjBrF,KAAM6F,EACNuB,aAAcA,EACdtB,eAAgBA,GAIlB1G,IAAMiI,KAZM,mCAYIhC,GACf/F,KAAK,SAACC,GAELnB,EAAKD,MAAMmJ,kBACXlJ,EAAK2G,eAINpF,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAY,WAAAkD,OAAYpD,EAAMC,eAnDlCzB,EAAKU,MAAQ,CACX+G,SAAU,MAJKzH,wEA4DjB,OACEuC,EAAAC,EAAAC,cAAA,WAASI,UAAU,sBACjBN,EAAAC,EAAAC,cAAA,QAAM8D,SAAUpG,KAAKoG,SAAU3E,KAAK,gBAAgB4B,GAAG,gBAAgBX,UAAU,cAE/EN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,uBAAuBuE,QAAQ,YAAhD,aACA7E,EAAAC,EAAAC,cAAA,SAAOI,UAAU,uCAAuCjB,KAAK,WAAWuH,YAAY,YAAY1C,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAM+G,YAGjJlF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,0CAA0C2D,KAAK,SAAS5E,KAAK,SAASqD,MAAM,oBAtE7E5B,cCoHX+F,qBAnHb,SAAAA,EAAYrJ,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiJ,IACjBpJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmJ,GAAA9I,KAAAH,KAAMJ,KAUR4G,WAAa,WACX3G,EAAKQ,SAAS,CACZuG,OAAQ,KACRpE,OAAQ,KACRC,QAAS,QAfM5C,EAmBnB4G,aAAe,SAACzB,GACd,IAAM0B,EAAQ1B,EAAMH,OAAOpD,KACrBqD,EAAQE,EAAMH,OAAOC,MAErB6B,EAAe,GACrBA,EAAaD,GAAS5B,EACtBjF,EAAKQ,SAASsG,IAzBG9G,EA6BnBuG,SAAW,SAACpB,GAAU,IAAArD,EAGc9B,EAAKU,MAAhCqG,EAHajF,EAGbiF,OAAQpE,EAHKb,EAGLa,OAAQC,EAHHd,EAGGc,QAHHyG,EAIiBrJ,EAAKD,MAAM8F,KAAzC6C,EAJaW,EAIbX,IAAKY,EAJQD,EAIRC,YAAaC,EAJLF,EAIKE,SAGzB,GAAe,OAAXxC,GAA4B,KAATA,GAAyB,KAAXpE,GAA0B,OAAVA,EAArD,CAEA,IAAMsE,EAAa,CAEjBF,OAAQA,EACRC,OAAQ0B,EACRhG,SAAU4G,EACVE,QAASD,EACT5G,OAAQA,EACRC,QAASA,GAIX5B,IAAMiI,KAfM,qCAeIhC,GACf/F,KAAK,SAACC,GAELnB,EAAKD,MAAM0J,oBACXzJ,EAAK2G,eAGNpF,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAY,WAAAkD,OAAYpD,EAAMC,eAvDlCzB,EAAKU,MAAQ,CACXqG,OAAQ,KACRpE,OAAQ,KACRC,QAAS,MANM5C,wEAgEjB,IAAM8F,EAAa3F,KAAKJ,MAAMwD,SAASlB,IAAI,SAAC6B,GAC1C,OAAQ3B,EAAAC,EAAAC,cAAA,UACNwC,MAASf,EAAKnD,KAAMmD,EAAKtC,QAI7B,OACEW,EAAAC,EAAAC,cAAA,WAASI,UAAU,wBACjBN,EAAAC,EAAAC,cAAA,QAAM8D,SAAUpG,KAAKoG,SAAU3E,KAAK,kBAAkB4B,GAAG,kBAAkBX,UAAU,cAErFN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,yBAAyBuE,QAAQ,UAAlD,aACA7E,EAAAC,EAAAC,cAAA,UAAQ+D,KAAK,OAAO3D,UAAU,uBAAuBjB,KAAK,SAAU6E,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAMqG,QACnHxE,EAAAC,EAAAC,cAAA,UAASwC,MAAQ,KACda,IAIHvD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,yBAAyBuE,QAAQ,UAAlD,UACA7E,EAAAC,EAAAC,cAAA,UAAQ+D,KAAK,OAAO3D,UAAU,uBAAuBjB,KAAK,SAAU6E,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAMiC,QACjHJ,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KACd1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,KACA1C,EAAAC,EAAAC,cAAA,UAAQwC,MAAM,KAAd,OAIJ1C,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAOI,UAAU,yBAAyBuE,QAAQ,UAAlD,WACA7E,EAAAC,EAAAC,cAAA,YAAUI,UAAU,eAAewE,KAAK,IAAIzF,KAAK,UAAUuH,YAAY,UAAU1C,SAAUtG,KAAKyG,aAAc3B,MAAO9E,KAAKO,MAAMkC,WAGlIL,EAAAC,EAAAC,cAAA,SAAOI,UAAU,4CAA4C2D,KAAK,SAAS5E,KAAK,SAASqD,MAAM,oBApG7E5B,cC+NbqG,cAzNb,SAAAA,EAAY3J,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuJ,IACjB1J,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyJ,GAAApJ,KAAAH,KAAMJ,KA+DT4J,YAAc,WAAM,IACXnG,EAAMxD,EAAKD,MAAM6J,MAAMC,OAAvBrG,GAEPxC,IAAMC,IADM,+CACEuC,GACbtC,KAAK,SAACC,GAELnB,EAAKQ,SAAS,CACZ+C,SAAUpC,EAASG,SAGtBC,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBzB,EAAKQ,SAAS,CACZkB,aAAcF,EAAMC,aA7ENzB,EAkFnB8J,QAAU,WACR9J,EAAKQ,SAAS,CAACuJ,cAAc/J,EAAKU,MAAMqJ,eACxC/J,EAAK2J,eApFY3J,EAuFnBgK,UAAW,WAEThK,EAAKQ,SAAS,CAACyJ,gBAAgBjK,EAAKU,MAAMuJ,kBAzFzBjK,EA4FnBkK,WAAY,WAAM,IAAApI,EAEyB9B,EAAKU,MAGtCuG,EAAa,CACjBrF,KAAM,UACNoH,aAPYlH,EAEPkH,aAMLtB,eARY5F,EAEO4F,gBAUrB1G,IAAMiI,KATM,mCASIhC,GACf/F,KAAK,SAACC,GACLnB,EAAKQ,SAAS,CAAC2J,iBAAgB,MAEhC5I,MAAM,SAACC,GACNxB,EAAKQ,SAAS,CACZkB,aAAY,WAAAkD,OAAYpD,EAAMC,aAGpC+G,OAAO9E,SAAS+E,UA9GhBzI,EAAKU,MAAQ,CACXsI,aAAa,KACbtB,eAAe,KACfrB,QAAQ,KACR5C,MAAM,KACN5B,cAAc,KACd6B,SAAS,KACTH,SAAU,GACVwG,cAAc,EACdE,gBAAe,EAEfpE,KAAM7F,EAAKD,MAAM8F,MAdF7F,mFAkBC,IAAAc,EAAAX,KAClBiB,QAAQC,IAAI,SACZD,QAAQC,IAAIlB,KAAKJ,OAFC,IAGXyD,EAAMrD,KAAKJ,MAAM6J,MAAMC,OAAvBrG,GAKPxC,IAAMC,IAFO,yCAEEuC,GACdtC,KAAK,SAACC,GAAY,IAAAiJ,EACUjJ,EAASG,KAA5BkC,EADS4G,EACT5G,GAAI5B,EADKwI,EACLxI,KAAMqE,EADDmE,EACCnE,MAClBnF,EAAKN,SAAS,CACZwI,aAAcxF,EACdkE,eAAgB9F,EAChByE,QAASlF,EAASG,KAAKgF,SACvB7C,MAAOwC,EACPpE,cAAeV,EAASG,KAAK6E,YAAYC,iBACzC1C,SAAUvC,EAASG,KAAKoC,SAASwC,YAKpC3E,MAAM,SAACC,GACNJ,QAAQC,IAAIG,EAAMC,SAClBX,EAAKN,SAAS,CACZkB,aAAcF,EAAMC,YAIxBtB,KAAKwJ,+CAyEL,IAAMU,EAAYlK,KAAKO,MAAM6C,SACvB+G,EAAgBD,EAAUzG,OAAO,SAAAC,GAAC,MAAe,YAAXA,EAAEjC,OAAoBS,IAAI,SAAC6B,GACrE,OAAO3B,EAAAC,EAAAC,cAAC0B,EAADlE,OAAAmE,OAAA,CAAUC,IAAKH,EAAKnD,KAIhBmD,MAMLX,EAHW8G,EAAUzG,OAAO,SAAAC,GAAC,MAAe,YAAXA,EAAEjC,OAEhBkC,KAAK,SAACtB,EAAGuB,GAAJ,OAAUA,EAAElC,cAAgBW,EAAEX,gBACrCQ,IAAI,SAAC6B,GAC1B,OAAO3B,EAAAC,EAAAC,cAAC0B,EAADlE,OAAAmE,OAAA,CAAUC,IAAKH,EAAKnD,KAIhBmD,MAGPqG,EAAQpK,KAAKO,MAAM6C,SAASlB,IAAI,SAAA6B,GAAI,OAAIA,EAAKtC,OAAM4I,SAAS,WAEpE,OAEMjI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,qBAERN,EAAAC,EAAAC,cAAA,WAASI,UAAU,0BACjBN,EAAAC,EAAAC,cAAA,OAAK+B,IAAKrE,KAAKO,MAAM+C,MAAOgB,IAAI,eAGlClC,EAAAC,EAAAC,cAAA,WAASI,UAAU,8BACjBN,EAAAC,EAAAC,cAAA,UAAKtC,KAAKO,MAAMgH,gBAChBnF,EAAAC,EAAAC,cAAA,qBAAatC,KAAKO,MAAMgD,UACvBnB,EAAAC,EAAAC,cAAA,SACCF,EAAAC,EAAAC,cAAA,KAAGgI,IAAI,sBAAsBC,KAAMvK,KAAKO,MAAM2F,QAASrB,OAAO,UAA9D,UAIDsF,EACA/G,EAEFpD,KAAKJ,MAAM8F,KACVtD,EAAAC,EAAAC,cAAA,OAAKkI,MAAM,WACTpI,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,UACDW,QAASjD,KAAK2J,QACdjH,UAAU,qDAFT,eAKF1C,KAAKO,MAAMqJ,aACVxH,EAAAC,EAAAC,cAACmI,EAAD,CACE1B,gBAAmB/I,KAAK2J,QACxBd,aAAgB7I,KAAKO,MAAMsI,aAC3BtB,eAAkBvH,KAAKO,MAAMgH,iBAG/BnF,EAAAC,EAAAC,cAAA,UAEDF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,UACDW,QAASjD,KAAK6J,UAEdnH,UAAU,uDAHT,kBAKF0H,EAKiChI,EAAAC,EAAAC,cAAA,UAJlCF,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,UACCW,QAASjD,KAAK+J,WAEdrH,UAAU,uDAHX,oBAMF1C,KAAKO,MAAMuJ,eACR1H,EAAAC,EAAAC,cAACoI,EAAD,CACEpB,kBAAqBtJ,KAAK6J,UAC1BnE,KAAQ1F,KAAKJ,MAAM8F,KACnBtC,SAAYpD,KAAKO,MAAM6C,WAGzBhB,EAAAC,EAAAC,cAAA,WAMPF,EAAAC,EAAAC,cAAA,KAAGkI,MAAM,eAAT,4CA5MYtH,aCIhByH,SAbF,WACX,OACEvI,EAAAC,EAAAC,cAAA,OAAKI,UAAU,aACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,aAAd,2BACAN,EAAAC,EAAAC,cAAA,MAAII,UAAU,SACdN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,QAAb,0DACAN,EAAAC,EAAAC,cAAA,MAAII,UAAU,SACdN,EAAAC,EAAAC,cAAA,KAAGI,UAAU,QAAb,4CCuHSkI,cApHb,SAAAA,IAAc,IAAA/K,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4K,IACZ/K,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8K,GAAAzK,KAAAH,QACKO,MAAQ,CACXmF,KAAM,MAGR7F,EAAKgL,MAAQhL,EAAKgL,MAAMpK,KAAXX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KACbA,EAAKiL,OAASjL,EAAKiL,OAAOrK,KAAZX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,KAPFA,wEAUL,IAAAc,EAAAX,KACPP,EAAKsL,UACLhK,KAAK,WACJJ,EAAKN,SAAS,CACZqF,KAAM,yCAKH,IAAA+C,EAAAzI,KACNP,EAAKuL,gBAAgBxL,GAClBuB,KAAK,SAACkK,GACL,IAAMvF,EAAOuF,EAAOvF,KACpB+C,EAAKpI,SAAS,CACZqF,uDAKY,IAAAgD,EAAA1I,KAClBP,EAAKyL,mBAAmB,SAACxF,GACnBA,GACFgD,EAAKrI,SAAS,CAAEqF,4CAMb,IACH6C,EACA4C,EAFGC,EAAApL,KAQP,OALuB,MAAnBA,KAAKO,MAAMmF,OACb6C,EAAMvI,KAAKO,MAAMmF,KAAK6C,IACtB4C,EAAWnL,KAAKO,MAAMmF,KAAKyD,aAK3B/G,EAAAC,EAAAC,cAAC+I,EAAA,EAAD,KACEjJ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACbN,EAAAC,EAAAC,cAAA,cACIF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,0CACbN,EAAAC,EAAAC,cAAA,MAAII,UAAU,gBAAd,gBAEAN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,2BAA2BW,GAAG,iBAC3CjB,EAAAC,EAAAC,cAAA,MAAII,UAAU,sBACZN,EAAAC,EAAAC,cAAA,MAAII,UAAU,mBACZN,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,IAAI9B,UAAU,YAAvB,SAEFN,EAAAC,EAAAC,cAAA,MAAII,UAAU,YACZN,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,UAAU9B,UAAU,YAA7B,WAED1C,KAAKO,MAAMmF,KACVtD,EAAAC,EAAAC,cAAA,MAAII,UAAU,YACZN,EAAAC,EAAAC,cAACiC,EAAA,EAAD,CAAMC,GAAG,aAAa9B,UAAU,YAAhC,cAGFN,EAAAC,EAAAC,cAAA,YAGHtC,KAAKO,MAAMmF,KACVtD,EAAAC,EAAAC,cAAA,OAAKI,UAAU,gBACXN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,mBAAmB2B,IAAKrE,KAAKO,MAAMmF,KAAK0D,SAAU9E,IAAI,UAGzElC,EAAAC,EAAAC,cAAA,YAKDF,EAAAC,EAAAC,cAAA,WAASI,UAAU,OAEf1C,KAAKO,MAAMmF,KACXtD,EAAAC,EAAAC,cAAA,UAAQI,UAAU,iCAAiCO,QAASjD,KAAK8K,QAAjE,WAEA1I,EAAAC,EAAAC,cAAA,UAAQI,UAAU,iCAAiCO,QAASjD,KAAK6K,OAAjE,cAObzI,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAWd,IACjCvI,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,CAAOC,KAAK,WAAWG,OAAQ,kBAC5BtJ,EAAAC,EAAAC,cACCqJ,EADD,CAECpD,IAAKA,EACL4C,SAAUA,OAId/I,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,CAAOC,KAAK,cAAcG,OAAQ,kBAC9BtJ,EAAAC,EAAAC,cACEsJ,EADF,CAEElG,KAAM0F,EAAK7K,MAAMmF,UAIxBtD,EAAAC,EAAAC,cAACgJ,EAAA,EAAD,CAAOC,KAAK,kBAAkBG,OAAQ,SAAC9L,GAAD,OAAWwC,EAAAC,EAAAC,cAACuJ,EAAD/L,OAAAmE,OAAA,CAAkByB,KAAM0F,EAAK7K,MAAMmF,MAAU9F,gBA7GrFsD,aCAE4I,QACW,cAA7BzD,OAAO9E,SAASwI,UAEe,UAA7B1D,OAAO9E,SAASwI,UAEhB1D,OAAO9E,SAASwI,SAAStC,MACvB,2DCXNuC,IAASN,OAAOtJ,EAAAC,EAAAC,cAAC2J,EAAD,MAASC,SAASC,eAAe,SD0H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMvL,KAAK,SAAAwL,GACjCA,EAAaC","file":"static/js/main.47fd71f0.chunk.js","sourcesContent":["import firebase from 'firebase';\n\nconst config = {\n  apiKey: \"AIzaSyDm6OrLeVF3mSl6XuhYuu_vrrkg1CaaD8c\",\n  authDomain: \"restaurant-menu-ui.firebaseapp.com\",\n  databaseURL: \"https://restaurant-menu-ui.firebaseio.com\",\n  projectId: \"restaurant-menu-ui\",\n  storageBucket: \"restaurant-menu-ui.appspot.com\",\n  messagingSenderId: \"226933753045\"\n};\nfirebase.initializeApp(config);\n\nexport const provider = new firebase.auth.GoogleAuthProvider();\nexport const auth = firebase.auth();\nexport default firebase;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport axios from 'axios';\nimport Rating from 'react-rating';\nimport './DishCard.css';\n\n\nclass DishCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      reviewList:[],\n      viewReview: false,\n\n    };\n    this.changeReview = this.changeReview.bind(this);\n  }\n\n  componentDidMount() {\n\n    const {_id} = this.props;\n\n    // const url = 'http://localhost:8080/menus/';\n    const url2 = 'http://localhost:8080/reviews/dishes/';\n\n    // axios.get(url+id)\n    // .then((response) =>{\n    //\n    //   this.setState({\n    //     dish: response.data,\n    //\n    //   });\n    // })\n    // .catch((error) => {\n    //   console.log(error.message);\n    //   this.setState({\n    //     errorMessage: error.message,\n    //   })\n    // });\n\n    axios.get(url2+_id)\n    .then((response) =>{\n      console.log(response.data);\n      this.setState({\n        reviewList: response.data,\n\n      });\n    })\n    .catch((error) => {\n      console.log(error.message);\n      this.setState({\n        errorMessage: error.message,\n      })\n    });\n\n  }\n\n  changeReview = () => {\n    this.setState({viewReview:!this.state.viewReview});\n\n  }\n\n\n  render() {\n\n    const { name, overallRating} = this.props;\n\n    const {reviewList, viewReview }= this.state;\n\n    var avg = parseFloat(overallRating).toFixed(1);\n\n    var size = null;\n\n    if(reviewList) {\n      size = reviewList.length;\n    }\n\n    const reviews = reviewList.map((review) => {\n      return (\n        <ul>\n         <li><strong>{review.userName} :</strong></li>\n          <li>rating: {review.rating}</li>\n          <li>comment: {review.comment}</li>\n        </ul>\n      )\n    });\n\n\n    return (\n      <div className=\"dish-card\">\n\n          <section className=\"dish-card--details\">\n           { size?\n            <div>{name} :\n            <Rating\n              placeholderRating={avg}\n              fraction={5}\n              placeholderSymbol=\"fa fa-star fa-1x\"\n              emptySymbol=\"fa fa-star-o fa-1x\"\n              fullSymbol=\"fa fa-star fa-1x\"\n              />\n\n              { viewReview?\n                <button className = \"badge badge-secondary\" onClick ={this.changeReview}>collapse</button>\n                :\n                <button className = \"badge badge-secondary\" onClick ={this.changeReview}>expand</button>\n              }\n            </div>\n            :\n            <div></div>\n           }\n           { viewReview?\n             <div>\n               {reviews}\n             </div>\n             :\n             <div></div>\n           }\n\n          </section>\n\n      </div>\n     );\n   }\n};\n\nDishCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n\n  // deletePetCallback: PropTypes.func.isRequired,\n  // selectPetCallback: PropTypes.func.isRequired,\n}\n\nexport default DishCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport {BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport DishCard from './DishCard';\nimport Rating from 'react-rating';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './RestaurantCard.css';\n// import DishAddForm from './DishAddForm';\n\n\nclass RestaurantCard extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dishList: [],\n\n    };\n  }\n\n  componentDidMount() {\n\n    const {id} = this.props;\n\n    const url = 'http://www.localhost:8080/menus/restaurants/';\n\n    axios.get(url+id)\n    .then((response) =>{\n\n      this.setState({\n        dishList: response.data,\n\n      });\n    })\n    .catch((error) => {\n      console.log(error.message);\n      this.setState({\n        errorMessage: error.message,\n      })\n    })\n\n  }\n\n\n  render() {\n\n    const { id, name, photo, location } = this.props;\n    const dishList = this.state.dishList;\n    const overallReview = dishList.filter(e => e.name === 'overall');\n    const overall = overallReview.sort((a, b) => b.overallRating - a.overallRating).slice(0,3);\n    const sizeO= overall.length;\n    const restaurantOverall = overall.map((dish) => {\n\n      return <DishCard key={dish.id}\n               // deleteReviewCallback={this.deleteReview}\n               // editReviewCallback={this.editReview}\n               // currentReviewOrNot={this.state.currentReview === review}\n               {...dish} />\n\n    });\n\n\n\n    const dishReview = dishList.filter(e => e.name !== 'overall');\n    const dish1 = dishReview.sort((a, b) => b.overallRating - a.overallRating).slice(0,3);\n    const size = dish1.length;\n    const dishes = dish1.map((dish) => {\n\n      return <DishCard key={dish.id}\n               // deleteReviewCallback={this.deleteReview}\n               // editReviewCallback={this.editReview}\n               // currentReviewOrNot={this.state.currentReview === review}\n               {...dish} />\n\n    });\n\n\n    return (\n\n          <div className=\"restaurant-card\">\n\n                 <section className=\"restaurant-card--img\">\n                   <img src={photo} alt=\"food_post\"/>\n                 </section>\n\n                 <section className=\"restaurant-card--details\">\n\n                  <h3><Link to={`/restaurant/${id}`}>{name}</Link></h3>\n                  <p>Address: {location}</p>\n                {restaurantOverall}\n\n                 {dishes}\n                </section>\n            </div>\n\n    );\n  }\n\n}\n\n\nRestaurantCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  photo: PropTypes.string.isRequired,\n  menuUrl: PropTypes.string,\n  overall_raing: PropTypes.number.isRequired,\n  location: PropTypes.string,\n  // deletePetCallback: PropTypes.func.isRequired,\n  // selectPetCallback: PropTypes.func.isRequired,\n}\n\nexport default RestaurantCard;\n","import React, { Component } from 'react';\nimport './SearchForm.css';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport {BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\n// import ReviewList from './ReviewList';\nimport RestaurantCard from './RestaurantCard';\n\n\nclass SearchForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: props.user,\n      cuisine:'',\n      restaurantSearchResult: [],\n      count: 0,\n\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getNext = this.getNext.bind(this);\n    this.getPrevious = this.getPrevious.bind(this);\n  }\n\n  handleChange = (e)=>{\n\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n\n    const url = 'http://localhost:8080/restaurants/cuisine/';\n\n    const encoded = encodeURIComponent(this.state.cuisine);\n\n    var count = this.state.count;\n\n    axios.get(url+encoded+'/'+count)\n     .then((response)=>{\n\n       this.setState({\n         restaurantSearchResult: response.data,\n         // cuisine:\"\",\n\n       });\n     })\n     .catch((error)=>{\n       this.setState({\n         errorMessage: error.message,\n       });\n     });\n\n  }\n\n  getNext = (event)=> {\n    event.preventDefault();\n    const url = 'http://localhost:8080/restaurants/cuisine/';\n\n    const encoded = encodeURIComponent(this.state.cuisine);\n\n    var count = this.state.count+20;\n\n\n    axios.get(url+encoded+'/'+count)\n     .then((response)=>{\n\n       this.setState({\n         restaurantSearchResult: response.data,\n         // cuisine:\"\",\n         count:count,\n\n       });\n     })\n     .catch((error)=>{\n       this.setState({\n         errorMessage: error.message,\n       });\n     });\n\n  }\n\n\n  getNext = (event)=> {\n    event.preventDefault();\n    const url = 'http://localhost:8080/restaurants/cuisine/';\n\n    const encoded = encodeURIComponent(this.state.cuisine);\n\n    var count = this.state.count+20;\n\n\n    axios.get(url+encoded+'/'+count)\n     .then((response)=>{\n\n       this.setState({\n         restaurantSearchResult: response.data,\n         // cuisine:\"\",\n         count:count,\n\n       });\n     })\n     .catch((error)=>{\n       this.setState({\n         errorMessage: error.message,\n       });\n     });\n\n  }\n\n  getPrevious = (event)=> {\n    var count = parseInt(this.state.count) - 20;\n    if (count<0){\n      count = 0;\n    };\n    this.setState({count:count});\n\n  }\n\n\n  render() {\n\n    const resultList = this.state.restaurantSearchResult.map((restaurant)=>{\n\n\n    return <RestaurantCard\n      key = {restaurant.id}\n      id = {restaurant.id}\n      name = {restaurant.name}\n      photo = {restaurant.thumb}\n      location = {restaurant.location.address}\n      overallRating = {restaurant.user_rating.aggregate_rating}\n      menuUrl = {restaurant.menu_url}\n      user = {this.props.user}\n      // addLibraryCallback={()=>this.addToLibrary(movie)}\n      // addLibraryCallback={this.addLibraryCallback}\n    />\n  });\n\n\n    return (\n      <div className='search'>\n        <section className='container'>\n          <form className=\"form-group\" onSubmit={this.handleSubmit}>\n            <div className=\"input-group mb-3\">\n              <select type=\"text\" className=\"selcls\" name=\"cuisine\" value={this.cuisine} onChange={this.handleChange} >\n                <option value=\"\">Select cuisine</option>\n                <option value=\"152\">Africa</option>\n                <option value=\"1\">America</option>\n                <option value=\"3\">Asian</option>\n                <option value=\"151\">Argentine</option>\n                <option value=\"131\">Australian</option>\n                <option value=\"193\">BBQ</option>\n                <option value=\"5\">Bar Food</option>\n                <option value=\"30\">cafe</option>\n                <option value=\"25\">Chinese</option>\n                <option value=\"38\">European</option>\n                <option value=\"45\">Franch</option>\n                <option value=\"134\">German</option>\n                <option value=\"156\">Greek</option>\n                <option value=\"181\">Grill</option>\n                <option value=\"148\">Indian</option>\n                <option value=\"55\">Italian</option>\n                <option value=\"60\">Japanese</option>\n                <option value=\"67\">Korean</option>\n                <option value=\"59\">Malaysian</option>\n                <option value=\"70\">Mediterranean</option>\n                <option value=\"73\">Mexican</option>\n                <option value=\"963\">Pacific Northwest</option>\n                <option value=\"82\">Pizza</option>\n                <option value=\"983\">Pub Food</option>\n                <option value=\"320\">Ramen</option>\n                <option value=\"998\">Salad</option>\n                <option value=\"304\">Sandwich</option>\n                <option value=\"83\">Seafood</option>\n                <option value=\"128\">Sichuan</option>\n                <option value=\"267\">South African</option>\n                <option value=\"966\">Southwestern</option>\n                <option value=\"89\">Spanish</option>\n                <option value=\"141\">Steak</option>\n                <option value=\"177\">Sushi</option>\n                <option value=\"997\">Taco</option>\n                <option value=\"190\">Taiwanese</option>\n                <option value=\"964\">Teriyaki</option>\n                <option value=\"95\">Thai</option>\n                <option value=\"99\">Vietnamese</option>\n                <option value=\"308\">Vegetarian</option>\n              </select>\n\n            <input type=\"submit\" value=\"search\" className=\"input-group-append\"/>\n            <button className=\"input-group-append\" onClick={this.getPrevious}>&laquo;</button>\n            <button className=\"input-group-append\" onClick={this.getNext}>&raquo;</button>\n          </div>\n        </form>\n      </section>\n\n      <section className=\"search_result\">\n        {resultList}\n      </section>\n\n    </div>\n  );\n  }\n}\n\nSearchForm.propTypes = {\n  uid: PropTypes.string,\n  username: PropTypes.string,\n\n}\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport './RatingEditForm.css'\n\n\n\nclass RatingEditForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      rating: this.props.rating,\n      comment: this.props.comment,\n\n    };\n  }\n\n  resetState = () => {\n    this.setState({\n      rating: null,\n\n    });\n  }\n\n  onFormChange = (event) => {\n    const field = event.target.name;\n    const value = event.target.value;\n\n    const updatedState = {};\n    updatedState[field] = value;\n    this.setState(updatedState);\n  }\n\n  onSubmit = (event) => {\n    // event.preventDefault();\n    const { rating ,comment} = this.state;\n    const {_id, dishId, userId, userName} = this.props;\n    const url = \"http://www.localhost:8080/reviews/\"\n\n    if (rating === this.props.rating && rating === this.props.comment) return;\n\n    const apiPayload = {\n      _id: _id,\n      dishId: dishId,\n      userId: userId,\n      userName: userName,\n      rating: rating,\n      comment: comment,\n    };\n\n    axios.put(url + _id, apiPayload)\n    .then((response)=>{\n\n      this.props.editRatingCallback();\n      this.resetState();\n\n      // window.location.reload();\n    })\n    .catch((error)=>{\n      this.setState({\n        errorMessage:`Failure ${error.message}`,\n      })\n    });\n  }\n\n  // <div class=\"form-group\">\n  //      <label for=\"exampleTextarea\">Example textarea</label>\n  //      <textarea class=\"form-control\" id=\"exampleTextarea\" rows=\"3\"></textarea>\n  //    </div>\n\n\n  render() {\n    return (\n      <section className=\"rating-edit-container\">\n        <form onSubmit={this.onSubmit} name=\"rating-edit-form\" id=\"rating-edit-form\" className=\"form-group\">\n          <div>\n            <label className=\"rating-edit-form--label\" htmlFor=\"rating\">Rating</label>\n\n            <select type=\"text\" className=\"form-control selcls \" name=\"rating\"  onChange={this.onFormChange} value={this.state.rating} >\n\n              <option value=\"\">null</option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"label\" htmlFor=\"comment\">Comment</label>\n          </div>\n          <div>\n            <textarea className=\"form-control\" rows=\"3\" name=\"comment\"  onChange={this.onFormChange} value={this.state.comment}></textarea>\n          </div>\n\n          <input className=\"btn btn-secondary rating-edit-form--submit\" type=\"submit\" name=\"submit\" value=\"Submit\" />\n        </form>\n      </section>\n    );\n  }\n\n}\n\nRatingEditForm.propTypes = {\n  id: PropTypes.string.isRequired,\n  dishId: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  comment: PropTypes.string,\n  deleteReviewCallback: PropTypes.func.isRequired,\n  eidtReviewCallback: PropTypes.func.isRequired,\n  editRatingCallback: PropTypes.func.isRequired,\n};\n\n  // <select type=\"text\" className=\"form-control selcls \" name=\"rating\"  placeholder={this.props.rating} onChange={this.onFormChange} value={this.state.rating} >\n     // <textarea className=\"review-edit-form--comment\" name=\"comment\" placeholder={this.props.comment} onChange={this.onFormChange} value={this.state.comment}></textarea>\nexport default RatingEditForm;\n","// import React from 'react';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './ReviewCard.css';\nimport RatingEditForm from './RatingEditForm';\n\n\nclass ReviewCard extends Component{\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n\n      ratingEdit:false,\n    };\n  }\n\n\n  editRating = ()=> {\n    this.setState({ratingEdit:!this.state.ratingEdit})\n  }\n\n render() {\n    const { _id, dishName, rating, comment, restaurantName} = this.props;\n\n    return (\n      <div className=\"review-card\">\n\n        <section className=\"review-card--header\">\n\n        </section>\n\n        <section className=\"review-card--body\">\n          <h3>Restaurant Name: {restaurantName}</h3>\n          <p><strong>Dish Name:</strong> {dishName}</p>\n          <p><strong>Dish Rating:</strong> {rating}</p>\n          <p><strong>Comment:</strong> {comment}</p>\n          <p>\n            <button\n              // onClick={() => {props.editReviewCallback(_id)}}\n              onClick={this.editRating}\n              className=\"btn btn-secondary review-card--edit-review-btn\"\n              >\n                Edit\n            </button>\n          </p>\n\n          <p>\n            <button\n              onClick={() => {this.props.deleteReviewCallback(_id)}}\n              className=\"btn btn-secondary review-card--delete-review-btn\"\n            >\n              Delete\n            </button>\n          </p>\n\n            {this.state.ratingEdit?\n              <RatingEditForm\n                editRatingCallback = {this.editRating}\n                {...this.props}\n              />\n              :\n              <p></p>\n            }\n\n\n        </section>\n\n      </div>\n    );\n  };\n}\nReviewCard.propTypes = {\n  id: PropTypes.string.isRequired,\n  dishId: PropTypes.string.isRequired,\n  rating: PropTypes.number.isRequired,\n  comment: PropTypes.string,\n  deleteReviewCallback: PropTypes.func.isRequired,\n  eidtReviewCallback: PropTypes.func.isRequired,\n}\n\nexport default ReviewCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReviewCard from './ReviewCard';\nimport axios from 'axios';\nimport './ReviewList.css';\n\n\nconst URL = 'http://www.localhost:8080/reviews/users/';\nconst URL2 = 'http://www.localhost:8080/reviews/';\n\n\nclass ReviewList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // user: props.user,\n      reviewList: [],\n      masterList:[],\n      // currentReview: undefined,\n\n    }\n    this.deleteReview = this.deleteReview.bind(this);\n    // this.editReview = this.editReview.bind(this);\n  }\n\n  componentDidMount(){\n\n    if (this.props.user) {\n      const encoded = encodeURIComponent(this.props.user.uid);\n\n      axios.get(URL+encoded)\n      .then((response) =>{\n\n        this.setState({\n          reviewList: response.data,\n          masterList: response.data\n        });\n      })\n      .catch((error) => {\n        console.log(error.message);\n        this.setState({\n          errorMessage: error.message,\n        })\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { user } = this.props;\n    const prevUser = prevProps.user;\n    if (prevUser !== user ) {\n\n      this.setState({ user:this.props.user });\n      if (user) {\n        const encoded = encodeURIComponent(user.uid);\n\n        axios.get(URL+encoded)\n        .then((response) =>{\n\n          this.setState({\n            reviewList: response.data,\n            masterList: response.data\n          });\n        })\n        .catch((error) => {\n          console.log(error.message);\n          this.setState({\n            errorMessage: error.message,\n          })\n        })\n      }else{\n        this.setState({ reviewList:[]});\n      }\n    }\n  }\n\n  // editReview = (reviewId) => {\n  //   let editIndex = -1;\n  //   const reviews =[...this.state.masterList];\n  //\n  //   reviews.forEach((review, index) => {\n  //     if (reviewId === review.id) {\n  //       editIndex = index;\n  //     }\n  //   });\n  //\n  //   const editReview = reviews[editIndex];\n  //\n  //   this.setState({\n  //     currentReview: editReview,\n  //   })\n  //\n  // }\n\n\n\n  deleteReview = (reviewId) => {\n    let deleteIndex = -1;\n    const reviews =[...this.state.masterList];\n\n    reviews.forEach((review, index) => {\n      if (reviewId === review.id) {\n        deleteIndex = index;\n      }\n    });\n\n    reviews.splice(deleteIndex, 1);\n\n    this.setState({\n      reviewList: reviews,\n    })\n\n    axios.delete(URL2+reviewId)\n\n    .then((response)=>{\n\n    })\n    .catch((error)=>{\n      this.setState({\n        errorMessage: error.message,\n      });\n    });\n\n    window.location.reload();\n\n  }\n\n\n\n  render() {\n    const reviewList = this.state.reviewList.map((review) => {\n\n      return <ReviewCard key={review.id}\n               deleteReviewCallback={this.deleteReview}\n               // editReviewCallback={this.editReview}\n               // currentReviewOrNot={this.state.currentReview === review}\n               {...review} />\n    });\n\n    return (\n      <div className=\"reviewlist\">\n        <h1 className=\"review-title\">Reviews</h1>\n        <section className=\"review-body\">\n          {reviewList}\n        </section>\n      </div>\n    );\n  }\n}\n\n\nReviewList.propTypes = {\n  user: PropTypes.object.isRequired,\n\n};\n\nexport default ReviewList;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport './DishAddForm.css'\n\n\n\nclass DishAddForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dishName: null,\n\n    };\n  }\n\n  resetState = () => {\n    this.setState({\n      dishName: null,\n\n    });\n  }\n\n  onFormChange = (event) => {\n    const field = event.target.name;\n    const value = event.target.value;\n\n    const updatedState = {};\n    updatedState[field] = value;\n    this.setState(updatedState);\n\n  }\n\n  onSubmit = (event) => {\n    event.preventDefault();\n\n\n    const {dishName} = this.state;\n    const {restaurantId, restaurantName} = this.props;\n    const url = \"http://www.localhost:8080/menus/\";\n\n    if (dishName === null || dishName === \"\") return;\n\n    const apiPayload = {\n\n      name: dishName,\n      restaurantId: restaurantId,\n      restaurantName: restaurantName,\n\n    };\n\n    axios.post(url, apiPayload)\n    .then((response)=>{\n\n      this.props.addDishCallback();\n      this.resetState();\n\n\n    })\n    .catch((error)=>{\n      this.setState({\n        errorMessage:`Failure ${error.message}`,\n      })\n    });\n  }\n\n  render() {\n    return (\n      <section className=\"dish-add-container\">\n        <form onSubmit={this.onSubmit} name=\"dish-add-form\" id=\"dish-add-form\" className=\"form-group\">\n\n          <div>\n            <label className=\"dish-add-form--label\" htmlFor=\"dishName\">Dish Name</label>\n            <input className=\"form-control dish-add-form--dishName\" name=\"dishName\" placeholder=\"dish name\" onChange={this.onFormChange} value={this.state.dishName} />\n          </div>\n\n          <input className=\"btn btn-secondary dish-add-form--submit\" type=\"submit\" name=\"submit\" value=\"Submit\" />\n        </form>\n      </section>\n    );\n  }\n\n}\n\nDishAddForm.propTypes = {\n   restaurantId:PropTypes.string.isRequired,\n   restaurantName:PropTypes.string.isRequired,\n   addDishCallback:PropTypes.func.isRequired,\n};\n\n  // <select type=\"text\" className=\"form-control selcls \" name=\"rating\"  placeholder={this.props.rating} onChange={this.onFormChange} value={this.state.rating} >\n     // <textarea className=\"review-edit-form--comment\" name=\"comment\" placeholder={this.props.comment} onChange={this.onFormChange} value={this.state.comment}></textarea>\nexport default DishAddForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport './ReviewAddForm.css'\n\n\n\nclass ReviewAddForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      dishId: null,\n      rating: null,\n      comment: null,\n\n    };\n  }\n\n  resetState = () => {\n    this.setState({\n      dishId: null,\n      rating: null,\n      comment: null,\n    });\n  }\n\n  onFormChange = (event) => {\n    const field = event.target.name;\n    const value = event.target.value;\n\n    const updatedState = {};\n    updatedState[field] = value;\n    this.setState(updatedState);\n\n  }\n\n  onSubmit = (event) => {\n    // event.preventDefault();\n\n    const {dishId, rating, comment} = this.state;\n    const {uid, displayName, photoURL} = this.props.user;\n    const url = \"http://www.localhost:8080/reviews/\";\n\n    if (dishId === null || dishId===\"\" ||rating === \"\" ||rating ===null) return;\n\n    const apiPayload = {\n\n      dishId: dishId,\n      userId: uid,\n      userName: displayName,\n      userImg: photoURL,\n      rating: rating,\n      comment: comment,\n\n    };\n\n    axios.post(url, apiPayload)\n    .then((response)=>{\n\n      this.props.addReviewCallback();\n      this.resetState();\n\n    })\n    .catch((error)=>{\n      this.setState({\n        errorMessage:`Failure ${error.message}`,\n      })\n    });\n  }\n\n  render() {\n    const resultList = this.props.dishList.map((dish)=>{\n      return (<option\n        value = {dish._id}>{dish.name}</option>\n       )\n    });\n\n    return (\n      <section className=\"review-add-container\">\n        <form onSubmit={this.onSubmit} name=\"review-add-form\" id=\"review-add-form\" className=\"form-group\">\n\n        <div>\n          <label className=\"review-add-form--label\" htmlFor=\"dishId\">Dish Name</label>\n          <select type=\"text\" className=\"form-control selcls \" name=\"dishId\"  onChange={this.onFormChange} value={this.state.dishId} >\n          <option  value = \"\"></option>\n            {resultList}\n          </select>\n        </div>\n\n          <div>\n            <label className=\"review-add-form--label\" htmlFor=\"rating\">Rating</label>\n            <select type=\"text\" className=\"form-control selcls \" name=\"rating\"  onChange={this.onFormChange} value={this.state.rating} >\n              <option value=\"\"></option>\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"review-add-form--label\" htmlFor=\"rating\">Comment</label>\n            <textarea className=\"form-control\" rows=\"3\" name=\"comment\" placeholder=\"comment\" onChange={this.onFormChange} value={this.state.comment} />\n          </div>\n\n          <input className=\"btn btn-secondary review-add-form--submit\" type=\"submit\" name=\"submit\" value=\"Submit\" />\n        </form>\n      </section>\n    );\n  }\n\n}\n\nReviewAddForm.propTypes = {\n  user: PropTypes.string.isRequired,\n  dishList: PropTypes.string.isRequired,\n  addReviewCallback: PropTypes.func.isRequired,\n};\n\n  // <select type=\"text\" className=\"form-control selcls \" name=\"rating\"  placeholder={this.props.rating} onChange={this.onFormChange} value={this.state.rating} >\n     // <textarea className=\"review-edit-form--comment\" name=\"comment\" placeholder={this.props.comment} onChange={this.onFormChange} value={this.state.comment}></textarea>\nexport default ReviewAddForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n// import {BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport DishCard from './DishCard';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './RestaurantDetail.css';\nimport DishAddForm from './DishAddForm';\nimport ReviewAddForm from './ReviewAddForm';\nimport Rating from 'react-rating';\n\nclass RestaurantDetail extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      restaurantId:null,\n      restaurantName:null,\n      menuUrl:null,\n      photo:null,\n      overallRating:null,\n      location:null,\n      dishList: [],\n      dishAddition: false,\n      reviewAddition:false,\n      // overallAddition:false,\n      user: this.props.user,\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"ttttt\");\n    console.log(this.props);\n    const {id} = this.props.match.params;\n\n    // const url = 'http://www.localhost:8080/menus/restaurants/';\n    const url2 = 'http://www.localhost:8080/restaurants/';\n\n    axios.get(url2+id)\n    .then((response) =>{\n      const { id, name, thumb} = response.data;\n      this.setState({\n        restaurantId: id,\n        restaurantName: name,\n        menuUrl: response.data.menu_url,\n        photo: thumb,\n        overallRating: response.data.user_rating.aggregate_rating,\n        location: response.data.location.address,\n\n      });\n\n    })\n    .catch((error) => {\n      console.log(error.message);\n      this.setState({\n        errorMessage: error.message,\n      })\n    });\n\n    this.getDishList();\n    // axios.get(url+id)\n    // .then((response) =>{\n    //\n    //   this.setState({\n    //     dishList: response.data,\n    //   });\n    // })\n    // .catch((error) => {\n    //   console.log(error.message);\n    //   this.setState({\n    //     errorMessage: error.message,\n    //   })\n    // });\n\n }\n\n getDishList = () => {\n   const {id} = this.props.match.params;\n   const url = 'http://www.localhost:8080/menus/restaurants/';\n   axios.get(url+id)\n   .then((response) =>{\n\n     this.setState({\n       dishList: response.data,\n     });\n   })\n   .catch((error) => {\n     console.log(error.message);\n     this.setState({\n       errorMessage: error.message,\n     })\n   });\n }\n\n  addDish = ()=> {\n    this.setState({dishAddition:!this.state.dishAddition});\n    this.getDishList();\n  }\n\n  addReview =() => {\n\n    this.setState({reviewAddition:!this.state.reviewAddition})\n  }\n\n  addOverall =() => {\n\n      const {restaurantId, restaurantName} = this.state;\n      const url = \"http://www.localhost:8080/menus/\";\n\n      const apiPayload = {\n        name: \"overall\",\n        restaurantId: restaurantId,\n        restaurantName: restaurantName,\n\n      };\n\n      axios.post(url, apiPayload)\n      .then((response)=>{\n        this.setState({overallAddition:true})\n      })\n      .catch((error)=>{\n        this.setState({\n          errorMessage:`Failure ${error.message}`,\n        })\n      });\n    window.location.reload();\n\n  }\n\n\n  render() {\n\n    const dishTotal = this.state.dishList;\n    const overallReview = dishTotal.filter(e => e.name === 'overall').map((dish)=>{\n      return <DishCard key={dish._id}\n             // deleteReviewCallback={this.deleteReview}\n             // editReviewCallback={this.editReview}\n             // currentReviewOrNot={this.state.currentReview === review}\n             {...dish} />\n    });\n\n    const dishReview = dishTotal.filter(e => e.name !== 'overall');\n\n      const dish1 = dishReview.sort((a, b) => b.overallRating - a.overallRating);\n      const dishList = dish1.map((dish) => {\n        return <DishCard key={dish._id}\n               // deleteReviewCallback={this.deleteReview}\n               // editReviewCallback={this.editReview}\n               // currentReviewOrNot={this.state.currentReview === review}\n               {...dish} />\n    });\n\n      const check = this.state.dishList.map(dish => dish.name).includes(\"overall\");\n\n    return (\n\n          <div className=\"restaurant-detail\">\n\n                 <section className=\"restaurant-detail--img\">\n                   <img src={this.state.photo} alt=\"food_post\"/>\n                 </section>\n\n                 <section className=\"restaurant-detail--details\">\n                   <h3>{this.state.restaurantName}</h3>\n                   <p>Address: {this.state.location}</p>\n                    <p>\n                     <a rel=\"noopener noreferrer\" href={this.state.menuUrl} target=\"_blank\">Menu</a>\n                    </p>\n                 </section>\n\n                   {overallReview}\n                   {dishList}\n\n                 {this.props.user?\n                   <div class=\"buttons\">\n                     <p><button\n                       onClick={this.addDish}\n                       className=\"btn btn-secondary restaurant-detail--add-dish-btn\"\n                       >Add a dish</button></p>\n\n                     {this.state.dishAddition?\n                       <DishAddForm\n                         addDishCallback = {this.addDish}\n                         restaurantId = {this.state.restaurantId}\n                         restaurantName = {this.state.restaurantName}\n                       />\n                       :\n                       <p></p>\n                      }\n                      <p><button\n                        onClick={this.addReview}\n\n                        className=\"btn btn-secondary restaurant-detail--add-review-btn\"\n                        >Add a review </button></p>\n                     {!check?\n                      <p><button\n                          onClick={this.addOverall}\n\n                          className=\"btn btn-secondary restaurant-detail--add-review-btn\"\n                          >overall review?</button></p>:<p></p>\n                      }\n                      {this.state.reviewAddition?\n                          <ReviewAddForm\n                            addReviewCallback = {this.addReview}\n                            user = {this.props.user}\n                            dishList = {this.state.dishList}\n                          />\n                          :\n                          <p></p>\n                       }\n\n\n                   </div>\n                   :\n                   <p class=\"text-danger\"> Please log in to write reviews </p>\n                 }\n\n\n          </div>\n    );\n  }\n\n}\n\nRestaurantDetail.propTypes = {\n  id: PropTypes.number.isRequired,\n  user: PropTypes.object,\n}\n\nexport default RestaurantDetail;\n","import React from 'react';\nimport \"./Home.css\"\n\nconst Home = () =>{\n  return (\n    <div className=\"jumbotron\">\n      <h1 className=\"display-3\">Welcome to Foodie Finds</h1>\n      <hr className=\"my-4\"/>\n      <p className=\"lead\">A website will tell you what to order at a restaurant.</p>\n      <hr className=\"my-4\"/>\n      <p className=\"lead\">I am a foodie, and I eat everything! </p>\n\n    </div>\n  )\n};\n\nexport default Home;\n","import React, { Component } from 'react';\nimport './App.css';\n\nimport  { auth, provider } from './firebase.js';\nimport {BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport SearchForm from './components/SearchForm';\nimport ReviewList from './components/ReviewList';\n\nimport RestaurantDetail from './components/RestaurantDetail';\nimport Home from './components/Home';\n\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: null,\n    }\n\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout() {\n    auth.signOut()\n   .then(() => {\n     this.setState({\n       user: null\n     });\n   });\n  }\n\n  login() {\n    auth.signInWithPopup(provider)\n      .then((result) => {\n        const user = result.user;\n        this.setState({\n          user\n        });\n      });\n  }\n\n  componentDidMount() {\n    auth.onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({ user });\n      }\n    });\n  }\n\n\n  render() {\n    let uid;\n    let username;\n    if (this.state.user != null) {\n      uid = this.state.user.uid;\n      username = this.state.user.displayName;\n    }\n\n    return (\n\n      <Router>\n        <div className=\"App\">\n          <header>\n              <nav className=\"navbar navbar-expand-lg navbar-dark bg\">\n                <h1 className=\"navbar-brand\">Foodie Finds</h1>\n\n                <div className=\"collapse navbar-collapse\" id=\"navbarColor01\">\n                  <ul className=\"navbar-nav mr-auto\">\n                    <li className=\"nav-item active\">\n                      <Link to=\"/\" className=\"nav-link\">Home</Link>\n                    </li>\n                    <li className=\"nav-item\">\n                      <Link to=\"/search\" className=\"nav-link\">Search</Link>\n                    </li>\n                    {this.state.user ?\n                      <li className=\"nav-item\">\n                        <Link to=\"/dashboard\" className=\"nav-link\">Dashboard</Link>\n                      </li>\n                      :\n                      <li></li>\n                      }\n                  </ul>\n                  {this.state.user ?\n                    <div className='user-profile'>\n                        <img className='user-profile-img' src={this.state.user.photoURL} alt='user'/>\n                    </div>\n                    :\n                    <div>\n\n                    </div>\n                    }\n\n                   <section className=\"log\">\n\n                      {this.state.user ?\n                       <button className=\"btn btn-secondary my-2 my-sm-0\" onClick={this.logout}>Log Out</button>\n                        :\n                       <button className=\"btn btn-secondary my-2 my-sm-0\" onClick={this.login}>Log In</button>\n                        }\n                    </section>\n                </div>\n              </nav>\n          </header>\n\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/search/\" render={()=>\n             <\n              SearchForm\n              uid={uid}\n              username={username}\n              />\n            }\n          />\n          <Route path=\"/dashboard/\" render={()=>\n              <\n                ReviewList\n                user={this.state.user}\n              />\n            }\n          />\n         <Route path=\"/restaurant/:id\" render={(props) => <RestaurantDetail user={this.state.user} {...props} />} />\n\n        </div>\n     </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}